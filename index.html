<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meu Di√°rio de Trade</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

<div class="main-title">
        <h1>Dashboard de Replays</h1>
        <p>Acompanhamento de Performance</p>
    </div>

<div class="stats-wrapper">
    <div class="stats-group">
        <h4 id="labelAno">Resumo de 2026</h4>
        <div class="stats-container">
            <div class="stat-card">
                <span class="stat-label">Replays</span>
                <span class="stat-value" id="anoTotal">0</span>
            </div>
            <div class="stat-card gain-border">
                <span class="stat-label">Gains</span>
                <span class="stat-value gain-color" id="anoGains">0</span>
            </div>
            <div class="stat-card loss-border">
                <span class="stat-label">Loss</span>
                <span class="stat-value loss-color" id="anoLoss">0</span>
            </div>
            <div class="stat-card assertive-border">
    <span class="stat-label">Assertividade</span>
    <span class="stat-value" id="anoTaxa">0%</span>
</div>
        </div>
    </div>

    <div class="stats-group">
        <h4>Hist√≥rico Total</h4>
        <div class="stats-container">
            <div class="stat-card">
                <span class="stat-label">Replays</span>
                <span class="stat-value" id="totalGeral">0</span>
            </div>
            <div class="stat-card gain-border">
                <span class="stat-label">Gains</span>
                <span class="stat-value gain-color" id="totalGains">0</span>
            </div>
            <div class="stat-card loss-border">
                <span class="stat-label">Loss</span>
                <span class="stat-value loss-color" id="totalLoss">0</span>
            </div>
            <div class="stat-card assertive-border">
    <span class="stat-label">Assertividade</span>
    <span class="stat-value" id="totalTaxa">0%</span>
</div>
        </div>
    </div>
</div>

    <div class="header">
        <select id="selectYear"></select>
        <div class="ativo-group">
            <select id="selectAtivo"></select>
            <button onclick="apagarAtivoAtual()" title="Apagar Ativo">üóëÔ∏è</button>
        </div>
        <button onclick="abrirModalAtivo()" class="primary">+ Ativo</button>
    <button onclick="exportarRelatorio()" class="btn-report">üìÑ Exportar</button>
    </div>

    <div id="status">Sincronizando...</div>
    <div class="year-container" id="yearContainer"></div>

    <div id="modalReplay" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle">Dia 00/00/0000</h3>
            
            <label>VALOR DO DIA (R$):</label>
            <input type="text" id="modalValor" placeholder="Ex: 1.500,00 ou -150,00">
            
            <label>ANOTA√á√ïES:</label>
            <textarea id="modalObs" rows="5" placeholder="O que aconteceu hoje?"></textarea>
            
            <div class="modal-buttons">
                <button class="primary" onclick="confirmarSalvar()">SALVAR</button>
                <div class="row-btns">
                    <button id="btnExcluir" class="danger" onclick="confirmarExcluir()">EXCLUIR</button>
                    <button onclick="fecharModais()">SAIR</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalNovoAtivo" class="modal">
        <div class="modal-content">
            <h3>Novo Ativo</h3>
            <label>C√ìDIGO (WIN, WDO...):</label>
            <input type="text" id="nomeNovoAtivo">
            <div class="row-btns">
                <button class="primary" onclick="salvarNovoAtivo()">CADASTRAR</button>
                <button onclick="fecharModais()">CANCELAR</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>